(()=>{"use strict";var t=function(){function t(t,i,o,s,e){void 0===t&&(t=0),void 0===i&&(i=0),void 0===o&&(o=100),void 0===s&&(s=100),void 0===e&&(e="blue"),this.x=t,this.y=i,this.width=o,this.height=s,this.color=e,this.x=t,this.y=i,this.width=o,this.height=s,this.color=e}return t.prototype.moveBy=function(t,i){this.x+=t,this.y+=i},t.prototype.moveTo=function(t,i){this.x=t,this.y=i},t.prototype.render=function(t){t.beginPath(),t.rect(this.x,this.y,this.width,this.height),t.fillStyle=this.color,t.fill(),t.closePath()},t}();const i=t;var o,s=(o=function(t,i){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},o(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function s(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}),e=function(t){function i(i,o,s,e,h,r){void 0===i&&(i=0),void 0===o&&(o=0),void 0===s&&(s=2),void 0===e&&(e=-1),void 0===h&&(h=10),void 0===r&&(r="red");var l=t.call(this,i,o,0,0,r)||this;return l.x=i,l.y=o,l.dx=s,l.dy=e,l.radius=h,l.color=r,l.dx=s,l.dy=-e,l.radius=h,l.color=r,l}return s(i,t),i.prototype.moveBall=function(){this.moveBy(this.dx,this.dy)},i.prototype.render=function(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill(),t.closePath()},i}(i),h=function(){var t=function(i,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},t(i,o)};return function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function s(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(s.prototype=o.prototype,new s)}}(),r=function(t){function i(i,o,s,e,h){void 0===s&&(s=75),void 0===e&&(e=20),void 0===h&&(h="blue");var r=t.call(this,i,o,s,e,h)||this;return r.x=i,r.y=o,r.width=s,r.height=e,r.color=h,r.status=1,r}return h(i,t),i}(i),l=function(){function t(t,i,o,s,e,h,r,l){this.cols=t,this.rows=i,this.width=o,this.height=s,this.padding=e,this.offsetTop=h,this.offsetLeft=r,this.color=l,this.cols=t,this.rows=i,this.bricks=[],this.width=o,this.height=s,this.padding=e,this.offsetTop=h,this.offsetLeft=r,this.color=l,this.totalBricks=0,this.initializeBricks()}return t.prototype.initializeBricks=function(){for(var t=["#FF0000","#FF9900","#FFFF00","#66FF33","#00FFFF","#0000FF","#6600FF","#6600CC","#CC0099","#FF0066"],i=0;i<this.cols;i+=1){this.bricks[i]=[];for(var o=0;o<this.rows;o+=1){var s=i*(this.width+this.padding)+this.offsetLeft,e=o*(this.height+this.padding)+this.offsetTop;this.bricks[i][o]=new r(s,e,this.width,this.height,t[this.totalBricks%t.length]),this.totalBricks+=1}}},t.prototype.render=function(t){for(var i=0;i<this.cols;i+=1)for(var o=0;o<this.rows;o+=1){var s=this.bricks[i][o];1===s.status&&s.render(t)}},t}(),n=function(){var t=function(i,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},t(i,o)};return function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function s(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(s.prototype=o.prototype,new s)}}(),a=function(t){function i(i,o,s,e,h,r){void 0===s&&(s=75),void 0===e&&(e=20),void 0===h&&(h="blue"),void 0===r&&(r=7);var l=t.call(this,i,o,s,e,h)||this;return l.x=i,l.y=o,l.width=s,l.height=e,l.color=h,l.speed=r,l.speed=r,l.color=h,l}return n(i,t),i}(i),d=function(){var t=function(i,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},t(i,o)};return function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function s(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(s.prototype=o.prototype,new s)}}(),c=function(t){function i(i,o,s,e,h){void 0===e&&(e="blue"),void 0===h&&(h="16px Arial");var r=t.call(this,o,s,0,0,e)||this;return r.text=i,r.x=o,r.y=s,r.color=e,r.font=h,r.text=i,r.value=0,r.font=h,r}return d(i,t),i.prototype.render=function(t){t.font=this.font,t.fillStyle=this.color,t.fillText("".concat(this.text," ").concat(this.value),this.x,this.y)},i}(i),u=function(){function t(t,i){this.canvas=t,this.ctx=i,this.brickRowCount=3,this.brickColumnCount=5,this.width=75,this.height=20,this.padding=10,this.offsetTop=30,this.offsetLeft=30,this.color="blue",this.ballRadius=10,this.ballColor="blue",this.ball=new e(100,200,2,-2,this.ballRadius,this.ballColor),this.paddleHeight=15,this.paddleWidth=100,this.paddleSpeed=7,this.paddleColor="blue",this.paddleX=(t.width-this.width)/2,this.paddleY=t.height-this.height,this.paddle=new a(this.paddleX,this.paddleY,this.paddleWidth,this.paddleHeight,this.paddleColor,this.paddleSpeed),this.bricks=new l(this.brickColumnCount,this.brickRowCount,this.width,this.height,this.padding,this.offsetTop,this.offsetLeft,this.color),this.scoreLabel=new c("Score: ",8,20),this.livesLabel=new c("Lives: ",t.width-65,20),this.rightPressed=!1,this.leftPressed=!1,this.setup(),this.draw()}return t.prototype.resetBallAndPaddle=function(){this.ball.x=this.canvas.width/2,this.ball.y=this.canvas.height-30,this.ball.dx=2,this.ball.dy=-2,this.paddle.x=this.paddleX},t.prototype.randomColor=function(){this.hexString="#";for(var t=0;t<6;t+=1)this.hexString+="1234567890ABCDEF"[Math.floor(16*Math.random())];return this.hexString},t.prototype.collisionDetection=function(){for(var t=0;t<this.bricks.cols;t+=1)for(var i=0;i<this.bricks.rows;i+=1){var o=this.bricks.bricks[t][i];1===o.status&&this.ball.x>o.x-this.ball.radius&&this.ball.x<o.x+this.width+this.ball.radius&&this.ball.y>o.y-this.ball.radius&&this.ball.y<o.y+this.height+this.ball.radius&&(this.ball.dy=Math.abs(this.ball.dy)+.2,this.ball.dx<0?this.ball.dx-=.1:this.ball.dx+=.1,this.ball.color=this.randomColor(),o.status=0,this.scoreLabel.value+=1,this.paddle.width-=3,console.log(this.bricks.totalBricks),this.scoreLabel.value===this.bricks.totalBricks&&(alert("You win! Your final score is ".concat(this.scoreLabel.value," points.")),document.location.reload()))}},t.prototype.movePaddle=function(){this.rightPressed&&this.paddle.x<this.canvas.width-this.paddle.width?this.paddle.moveBy(7,0):this.leftPressed&&this.paddle.x>0&&this.paddle.moveBy(-7,0)},t.prototype.collisionsWithCanvasAndPaddle=function(){(this.ball.x+this.ball.dx>this.canvas.width-this.ball.radius||this.ball.x+this.ball.x<this.ball.radius)&&(this.ball.dx=-this.ball.dx,this.ball.color=this.randomColor()),this.ball.y+this.ball.dy<this.ball.radius?(this.ball.dy=-this.ball.dy,this.ball.color=this.randomColor()):this.ball.y+this.ball.dy>this.canvas.height-this.ball.radius-this.paddle.height&&(this.ball.x>this.paddle.x&&this.ball.x<this.paddle.x+this.paddle.width?(this.ball.dy=-(this.ball.dy+1),this.ball.color=this.randomColor(),this.paddle.color=this.randomColor()):(this.livesLabel.value-=1,0===this.livesLabel.value?(alert("GAME OVER... YOUR SCORE WAS ".concat(this.scoreLabel.value," POINTS")),document.location.reload()):this.resetBallAndPaddle()))},t.prototype.keyDownHandler=function(t){"Right"===t.key||"ArrowRight"===t.key?this.rightPressed=!0:"Left"!==t.key&&"ArrowLeft"!==t.key||(this.leftPressed=!0)},t.prototype.keyUpHandler=function(t){"Right"===t.key||"ArrowRight"===t.key?this.rightPressed=!1:"Left"!==t.key&&"ArrowLeft"!==t.key||(this.leftPressed=!1)},t.prototype.mouseMoveHandler=function(t){this.relativeX=t.clientX-this.canvas.offsetLeft,this.relativeX>0&&this.relativeX<this.canvas.width-this.paddle.width/2&&this.paddle.moveTo(this.relativeX-this.paddle.width/2,this.paddleY)},t.prototype.draw=function(){var t=this;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);var i=this.ctx.createLinearGradient(0,0,this.canvas.width,this.canvas.height);i.addColorStop(0,"violet"),i.addColorStop(.25,"pink"),i.addColorStop(.5,"black"),i.addColorStop(.75,"pink"),i.addColorStop(1,"violet"),this.ctx.fillStyle=i,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ball.render(this.ctx),this.paddle.render(this.ctx),this.bricks.render(this.ctx),this.scoreLabel.render(this.ctx),this.livesLabel.render(this.ctx),this.collisionDetection(),this.ball.moveBall(),this.movePaddle(),this.collisionsWithCanvasAndPaddle(),requestAnimationFrame((function(){t.draw()}))},t.prototype.setup=function(){var t=this;this.livesLabel.value=3,this.resetBallAndPaddle(),document.addEventListener("keydown",(function(i){t.keyDownHandler(i)}),!1),document.addEventListener("keyup",(function(i){t.keyUpHandler(i)}),!1),document.addEventListener("mousemove",(function(i){t.mouseMoveHandler(i)}),!1)},t}(),p=document.getElementById("myCanvas"),f=p.getContext("2d");new u(p,f)})();